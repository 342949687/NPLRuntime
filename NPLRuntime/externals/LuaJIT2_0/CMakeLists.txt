if(ANDROID)
	add_library(luajit20 INTERFACE)
	target_include_directories(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/include)
    target_link_libraries(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/prebuilt/android/${CMAKE_ANDROID_ARCH_ABI}/libluajit.a)
elseif(IOS)
	add_library(luajit20 INTERFACE)
	target_include_directories(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/include)
	if (IOS_PLATFORM STREQUAL "SIMULATOR")
		target_link_libraries(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/prebuilt/ios/iphonesim/libluajit.a)		
	elseif(IOS_PLATFORM STREQUAL "OS")
		target_link_libraries(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/prebuilt/ios/iphoneos/libluajit.a)		
	endif() 
	
else()
	if(NPLRUNTIME_STATIC_LIB)
		set(LUA_STATICLIB TRUE)
	endif()
	add_subdirectory(code)
	target_include_directories(luajit20 INTERFACE ${CMAKE_CURRENT_SOURCE_DIR}/include)
endif()

